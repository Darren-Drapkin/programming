#!/usr/bin/apl --script
 ⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝
⍝
⍝ diamond_4_dojo 2018-08-02 11:42:53 (GMT+1)
⍝
 ⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝⍝

∇z←formmatrix x;y
 x←identity x
 x←(⌽x),(lessmid x)
 y←⊖x
 y←⍉(lessmid ⍉y)
 x←x,[1]y
 z←x
∇

∇z←identity n
 z←n n ⍴("*",n⍴" ")
∇

∇z←lessmid x;rhox;rhoy
 rhox← 1↑⍴x
 rhoy←(⍴x)[2]
 z← x[⍳rhox;1↓⍳rhoy]
∇

a←10 10⍴0 ⍝ prolog ≡1
  (,a)[⍳34]←1 2 3 4 5 1 2 3 4 5 1 2 3 4 5 1 2 3 4 5 1 2 3 4 5 1 2 3 4 5 1 2 3 4
  (,a)[34+⍳32]←5 1 2 3 4 5 1 2 3 4 5 1 2 3 4 5 1 2 3 4 5 1 2 3 4 5 1 2 3 4 5 1
  (,a)[66+⍳32]←2 3 4 5 1 2 3 4 5 1 2 3 4 5 1 2 3 4 5 1 2 3 4 5 1 2 3 4 5 1 2 3
  (,a)[98+⍳2]←4 5

list←111⍴0 ⍝ prolog ≡1
  (list)[⍳22]←77 7 19 54 24 32 84 40 5 95 97 76 82 92 63 26 10 98 21 50 38 80
  (list)[22+⍳21]←99 90 30 74 85 81 47 93 88 61 59 17 56 12 69 66 65 20 44 41 6
  (list)[43+⍳21]←60 18 39 67 35 22 52 16 57 87 48 28 72 29 15 33 46 42 34 86 11
  (list)[64+⍳21]←55 58 31 1 43 53 94 49 23 78 64 68 13 37 45 89 62 75 3 36 51
  (list)[85+⍳24]←14 100 25 91 9 27 79 71 96 2 8 70 4 83 73 ¯10 9 8 7 6 5 4 3 2
  (list)[109+⍳2]←1 0

n←,7

ravldtest←81⍴0 ⍝ prolog ≡1
  (ravldtest)[⍳30]←0 0 0 0 1 0 0 0 0 0 0 0 1 0 1 0 0 0 0 0 1 0 0 0 1 0 0 0 1 0
  (ravldtest)[30+⍳29]←0 0 0 0 1 0 1 0 0 0 0 0 0 0 1 0 1 0 0 0 0 0 1 0 0 0 1 0 0
  (ravldtest)[59+⍳22]←0 1 0 0 0 0 0 1 0 1 0 0 0 0 0 0 0 1 0 0 0 0

test←9 9⍴0 ⍝ prolog ≡1
  (,test)[⍳32]←0 0 0 0 1 0 0 0 0 0 0 0 1 0 1 0 0 0 0 0 1 0 0 0 1 0 0 0 1 0 0 0
  (,test)[32+⍳31]←0 0 1 0 1 0 0 0 0 0 0 0 1 0 1 0 0 0 0 0 1 0 0 0 1 0 0 0 1 0 0
  (,test)[63+⍳18]←0 0 0 1 0 1 0 0 0 0 0 0 0 1 0 0 0 0

x←4 4⍴1 0 0 0 0 1 0 0 0 0 1 0 0 0 0 1

y←4 3⍴0 0 0 1 0 0 0 1 0 0 0 1

⎕CT←1E¯13

⎕FC←(,⎕UCS 46 44 8902 48 95 175)

⎕IO←1

⎕L←0

⎕LX←' ' ⍝ proto 1
  ⎕LX←0⍴⎕LX ⍝ proto 2

⎕PP←10

⎕PR←' '

⎕PS←0

⎕PW←80

⎕R←0

⎕RL←¯6458406621023749011

⎕TZ←1

⎕X←0

